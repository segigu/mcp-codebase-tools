# MCP Codebase Tools - Migration Guide

> **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-06
> **–°—Ç–∞—Ç—É—Å:** ‚úÖ Ready
> **–í–µ—Ä—Å–∏—è:** 1.0.0

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
3. [–í–∞—Ä–∏–∞–Ω—Ç –ê: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏](#–≤–∞—Ä–∏–∞–Ω—Ç-–∞-–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ-–ø–∞–ø–∫–∏-—Å–∞–º—ã–π-–ø—Ä–æ—Å—Ç–æ–π)
4. [–í–∞—Ä–∏–∞–Ω—Ç –ë: NPM –ø–∞–∫–µ—Ç](#–≤–∞—Ä–∏–∞–Ω—Ç-–±-npm-–ø–∞–∫–µ—Ç-—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
5. [–í–∞—Ä–∏–∞–Ω—Ç –í: Symlink](#–≤–∞—Ä–∏–∞–Ω—Ç-–≤-symlink-–¥–ª—è-–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö-–ø—Ä–æ–µ–∫—Ç–æ–≤)
6. [–í–∞—Ä–∏–∞–Ω—Ç –ì: Project Template](#–≤–∞—Ä–∏–∞–Ω—Ç-–≥-project-template-–ª—É—á—à–∏–π-–¥–ª—è-–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ)
7. [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã](#–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–∞–±–æ—Ç—ã)
8. [Troubleshooting](#troubleshooting)

---

## –í–≤–µ–¥–µ–Ω–∏–µ

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–∞–∫ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ **MCP Codebase Tools** –∏–∑ Medical Portal –ø—Ä–æ–µ–∫—Ç–∞ –≤ **–ª—é–±–æ–π –¥—Ä—É–≥–æ–π –ø—Ä–æ–µ–∫—Ç**.

### –ß—Ç–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è

```
mcp-server/
‚îú‚îÄ‚îÄ lib/               # –ë–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã (sandbox, fs-utils, ast-utils)
‚îú‚îÄ‚îÄ tools/             # 13 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (analyze, search, refactor)
‚îú‚îÄ‚îÄ examples/          # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ tests/             # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ package.json       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ tsconfig.json      # TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js >= 18.0.0
- npm >= 8.0.0
- TypeScript –ø—Ä–æ–µ–∫—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞–ø–∫—É mcp-server
cd /path/to/YourNewProject
cp -r /path/to/Metacell/mcp-server .

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cd mcp-server
npm install

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–º–µ—Ä
npm run example

# 4. –ì–æ—Ç–æ–≤–æ! MCP —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –Ω–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ ‚úÖ
```

---

## –í–∞—Ä–∏–∞–Ω—Ç –ê: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- ‚úÖ –ù–µ–±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–µ–∫—Ç–æ–≤ (1-5)
- ‚úÖ –ù–µ –ø–ª–∞–Ω–∏—Ä—É–µ—à—å —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è—Ç—å MCP
- ‚úÖ –•–æ—á–µ—à—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–æ–≤

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

#### –®–∞–≥ 1: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
cd ~/YourNewProject

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞–ø–∫—É mcp-server
cp -r ~/Metacell/mcp-server .

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–æ—Å—å
ls -la mcp-server/
```

#### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd mcp-server
npm install
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
added 87 packages, and audited 88 packages in 2s
```

#### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–º–µ—Ä
npm run example

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
npm test
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úì tests/smoke.test.ts (18 tests)
Test Files  1 passed (1)
     Tests  18 passed (18)
```

#### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ –ø—Ä–æ–µ–∫—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç Medical Portal, –æ–±–Ω–æ–≤–∏ `.env`:

```bash
cd mcp-server
cp .env.example .env
nano .env
```

**–ò–∑–º–µ–Ω–∏:**
```env
# –ü—É—Ç—å –∫ –∫–æ—Ä–Ω—é –ø—Ä–æ–µ–∫—Ç–∞ (–≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è src/)
PROJECT_ROOT=../

# –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è
EXCLUDE_PATTERNS=node_modules,dist,build,.git,coverage

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (1MB)
MAX_FILE_SIZE=1048576

# –¢–∞–π–º–∞—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (30 —Å–µ–∫—É–Ω–¥)
SANDBOX_TIMEOUT=30000
```

#### –®–∞–≥ 5: –î–æ–±–∞–≤–∏—Ç—å –≤ .gitignore

```bash
cd ~/YourNewProject
echo "mcp-server/node_modules/" >> .gitignore
```

### –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã

**–ü–ª—é—Å—ã:**
- ‚úÖ –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ
- ‚úÖ –ö–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º
- ‚úÖ –ú–æ–∂–Ω–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù—É–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- ‚ùå –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –≤—Ä—É—á–Ω—É—é –≤ –∫–∞–∂–¥–æ–º –ø—Ä–æ–µ–∫—Ç–µ
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

---

## –í–∞—Ä–∏–∞–Ω—Ç –ë: NPM –ø–∞–∫–µ—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- ‚úÖ –ú–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–æ–≤ (5+)
- ‚úÖ –ü–ª–∞–Ω–∏—Ä—É–µ—à—å –æ–±–Ω–æ–≤–ª—è—Ç—å MCP
- ‚úÖ –•–æ—á–µ—à—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—à—å –≤ –∫–æ–º–∞–Ω–¥–µ

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

#### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç

```bash
cd ~/Metacell/mcp-server

# –û–±–Ω–æ–≤–∏—Ç—å package.json
nano package.json
```

**–î–æ–±–∞–≤–∏—Ç—å/–∏–∑–º–µ–Ω–∏—Ç—å:**
```json
{
  "name": "@your-username/mcp-codebase-tools",
  "version": "1.0.0",
  "description": "MCP Code Execution tools for codebase analysis",
  "main": "lib/index.js",
  "types": "lib/index.d.ts",
  "files": [
    "lib/**/*",
    "tools/**/*",
    "examples/**/*",
    "types/**/*",
    "tsconfig.json",
    "vitest.config.ts",
    "README.md"
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/your-username/mcp-codebase-tools"
  },
  "keywords": [
    "mcp",
    "code-execution",
    "codebase-analysis",
    "ast",
    "refactoring"
  ],
  "author": "Your Name",
  "license": "MIT"
}
```

#### –®–∞–≥ 2: –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å (–≤—ã–±–µ—Ä–∏ –æ–¥–∏–Ω)

##### –í–∞—Ä–∏–∞–Ω—Ç 2.1: –ü—É–±–ª–∏—á–Ω—ã–π npm (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

```bash
cd ~/Metacell/mcp-server

# –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ npm (–æ–¥–∏–Ω —Ä–∞–∑)
npm login

# –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
npm publish --access public
```

##### –í–∞—Ä–∏–∞–Ω—Ç 2.2: Private npm (–ø–ª–∞—Ç–Ω–æ/–∫–æ–º–∞–Ω–¥–∞)

```bash
# –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∫–∞–∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –ø–∞–∫–µ—Ç
npm publish --access restricted
```

##### –í–∞—Ä–∏–∞–Ω—Ç 2.3: GitHub Packages (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è public repo)

```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å –≤ package.json
{
  "publishConfig": {
    "registry": "https://npm.pkg.github.com/"
  }
}

# 2. –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è
npm login --registry=https://npm.pkg.github.com/

# 3. –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
npm publish
```

##### –í–∞—Ä–∏–∞–Ω—Ç 2.4: –õ–æ–∫–∞–ª—å–Ω—ã–π npm link (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```bash
cd ~/Metacell/mcp-server

# –°–æ–∑–¥–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É
npm link

# –í –∫–∞–∂–¥–æ–º –ø—Ä–æ–µ–∫—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –ø–∞–∫–µ—Ç
cd ~/YourNewProject
npm link @your-username/mcp-codebase-tools
```

#### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ

```bash
cd ~/YourNewProject

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ npm
npm install @your-username/mcp-codebase-tools

# –ò–ª–∏ –∏–∑ GitHub Packages
npm install @your-username/mcp-codebase-tools --registry=https://npm.pkg.github.com/
```

#### –®–∞–≥ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

```typescript
// –í –ª—é–±–æ–º —Ñ–∞–π–ª–µ –ø—Ä–æ–µ–∫—Ç–∞
import { findImports, analyzeComplexity } from '@your-username/mcp-codebase-tools'

const result = await findImports({
  pattern: 'src/**/*.tsx',
  name: 'Button'
})

console.log(`Found ${result.totalFiles} files`)
```

#### –®–∞–≥ 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
cd ~/YourNewProject

# –û–±–Ω–æ–≤–∏—Ç—å –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
npm update @your-username/mcp-codebase-tools

# –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é
npm install @your-username/mcp-codebase-tools@1.2.0
```

### –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã

**–ü–ª—é—Å—ã:**
- ‚úÖ –õ–µ–≥–∫–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å (`npm install`)
- ‚úÖ –õ–µ–≥–∫–æ –æ–±–Ω–æ–≤–ª—è—Ç—å (`npm update`)
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–º–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù—É–∂–Ω–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å (–Ω–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑)
- ‚ùå –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –Ω—É–∂–Ω–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é

---

## –í–∞—Ä–∏–∞–Ω—Ç –í: Symlink (–¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤)

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- ‚úÖ –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ –æ–¥–Ω–æ–π –º–∞—à–∏–Ω–µ (2-10)
- ‚úÖ –ß–∞—Å—Ç–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–µ—à—å —Å MCP
- ‚úÖ –•–æ—á–µ—à—å –æ–±–Ω–æ–≤–ª—è—Ç—å –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

#### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –¥–ª—è MCP
mkdir -p ~/.mcp-tools

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç—É–¥–∞ MCP
cp -r ~/Metacell/mcp-server/* ~/.mcp-tools/

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cd ~/.mcp-tools
npm install
```

#### –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å symlink –≤ –ø—Ä–æ–µ–∫—Ç–µ

```bash
cd ~/YourNewProject

# –°–æ–∑–¥–∞—Ç—å —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É
ln -s ~/.mcp-tools ./mcp-server

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å—Å—ã–ª–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
ls -la mcp-server/
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
lrwxr-xr-x  1 user  staff  25 Nov  6 16:00 mcp-server -> /Users/user/.mcp-tools
```

#### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

```bash
cd mcp-server
npm run example
```

#### –®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å—Ä–∞–∑—É!)

```bash
# –û–±–Ω–æ–≤–∏—Ç—å –æ–¥–∏–Ω —Ä–∞–∑
cd ~/.mcp-tools
git pull origin main  # –ï—Å–ª–∏ —ç—Ç–æ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
npm install           # –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è –≤–æ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö! ‚úÖ
```

### –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã

**–ü–ª—é—Å—ã:**
- ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—à—å –æ–¥–∏–Ω —Ä–∞–∑ - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- ‚úÖ –ë—ã—Å—Ç—Ä–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå Symlink –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏
- ‚ùå –ï—Å–ª–∏ —É–¥–∞–ª–∏—à—å `~/.mcp-tools` - —Å–ª–æ–º–∞–µ—Ç—Å—è –≤–µ–∑–¥–µ
- ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Windows (–Ω—É–∂–Ω—ã –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)

---

## –í–∞—Ä–∏–∞–Ω—Ç –ì: Project Template (–ª—É—á—à–∏–π –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ)

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- ‚úÖ –ß–∞—Å—Ç–æ —Å–æ–∑–¥–∞—ë—à—å –Ω–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã
- ‚úÖ –•–æ—á–µ—à—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—à—å –≤ –∫–æ–º–∞–Ω–¥–µ (best practices)

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

#### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å template

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –¥–ª—è templates
mkdir -p ~/project-templates/react-with-mcp
cd ~/project-templates/react-with-mcp

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
cp -r ~/Metacell/mcp-server .
cp ~/Metacell/.gitignore .
cp ~/Metacell/tsconfig.json .
cp ~/Metacell/package.json .

# –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã
cp ~/Metacell/.prettierrc .
cp ~/Metacell/.eslintrc .
```

#### –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

```bash
cat > ~/create-project.sh << 'EOF'
#!/bin/bash

PROJECT_NAME=$1

if [ -z "$PROJECT_NAME" ]; then
  echo "Usage: ./create-project.sh <project-name>"
  exit 1
fi

echo "üöÄ Creating project: $PROJECT_NAME"

# –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å template
cp -r ~/project-templates/react-with-mcp ~/$PROJECT_NAME
cd ~/$PROJECT_NAME

# –û–±–Ω–æ–≤–∏—Ç—å package.json name
sed -i '' "s/\"name\": \".*\"/\"name\": \"$PROJECT_NAME\"/" package.json

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
echo "üì¶ Installing dependencies..."
npm install

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å MCP –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cd mcp-server
npm install
cd ..

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å git
git init
git add .
git commit -m "chore: initial commit with MCP tools"

echo "‚úÖ Project $PROJECT_NAME created successfully!"
echo "üìÅ Location: ~/$PROJECT_NAME"
echo ""
echo "Next steps:"
echo "  cd ~/$PROJECT_NAME"
echo "  npm start"
echo ""
echo "Test MCP:"
echo "  cd mcp-server"
echo "  npm run example"
EOF

# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x ~/create-project.sh
```

#### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
~/create-project.sh MyAwesomeProject

# –ì–æ—Ç–æ–≤–æ! –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω —Å MCP ‚úÖ
cd ~/MyAwesomeProject
cd mcp-server && npm run example
```

#### –®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ template

```bash
# –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–∏—à—å MCP –≤ Metacell
cd ~/project-templates/react-with-mcp
rm -rf mcp-server
cp -r ~/Metacell/mcp-server .

# –¢–µ–ø–µ—Ä—å –Ω–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –±—É–¥—É—Ç —Å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–º MCP
```

### –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ (1 –∫–æ–º–∞–Ω–¥–∞)
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –¥—Ä—É–≥–∏–µ best practices
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–º–∞–Ω–¥–µ (shared template repo)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Ä–µ–º—è
- ‚ùå –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –Ω–æ–≤—ã–º –ø—Ä–æ–µ–∫—Ç–∞–º

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–Ω–æ—Å–∞ –≤ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–æ–≤–µ—Ä—å:

### –¢–µ—Å—Ç 1: Smoke —Ç–µ—Å—Ç—ã

```bash
cd mcp-server
npm test
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
```
‚úì tests/smoke.test.ts (18 tests)
Test Files  1 passed (1)
     Tests  18 passed (18)
```

### –¢–µ—Å—Ç 2: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–∞

```bash
npm run example
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
```
üöÄ MCP Codebase Tools - Comprehensive Example

üìÅ SCENARIO 1: Analyzing project structure...
Total files: 204
...

‚ú® TOKEN SAVINGS: 98% (94500 ‚Üí 2300 tokens)
‚úÖ Example completed! All tools working correctly.
```

### –¢–µ—Å—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `test-mcp.ts`:

```typescript
import { findImports } from './mcp-server/tools/search'

async function test() {
  const result = await findImports({
    pattern: 'src/**/*.tsx',
    name: 'useState'
  })

  console.log(`Found useState in ${result.totalFiles} files`)
}

test()
```

–ó–∞–ø—É—Å—Ç–∏:
```bash
npx tsx test-mcp.ts
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
```
Found useState in 15 files
```

---

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞ 1: `glob.sync is not a function`

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç `fast-glob`

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// lib/fs-utils.ts
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
import * as glob from 'fast-glob'

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
import glob from 'fast-glob'
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: `traverse is not a function`

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç `@babel/traverse`

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// lib/ast-utils.ts
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
import { createRequire } from 'module'
const require = createRequire(import.meta.url)
const traverse = require('@babel/traverse').default
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: `PROJECT_ROOT not found`

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd mcp-server
nano .env
```

–ò–∑–º–µ–Ω–∏:
```env
PROJECT_ROOT=../
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –¢–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –µ—Å—Ç—å –ø–∞–ø–∫–∞ `src/`:
```bash
ls -la ../src/
```

2. –ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥—Ä—É–≥–∞—è, –æ–±–Ω–æ–≤–∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ —Ç–µ—Å—Ç–∞—Ö:
```typescript
// tests/smoke.test.ts
const files = findFiles('your-folder/**/*.{ts,tsx}')  // –í–º–µ—Å—Ç–æ src/
```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: `npm install` –∑–∞–≤–∏—Å–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é –∏–ª–∏ npm registry

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à npm
npm cache clean --force

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
npm install

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π registry
npm install --registry https://registry.npmmirror.com
```

---

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ | NPM –ø–∞–∫–µ—Ç | Symlink | Template |
|----------|-------------|-----------|---------|----------|
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê |
| **–õ–µ–≥–∫–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** | ‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê |
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–µ–∫—Ç–æ–≤** | 1-5 | 5+ | 2-10 | 10+ |
| **–†–∞–±–æ—Ç–∞ –≤ –∫–æ–º–∞–Ω–¥–µ** | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê |
| **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–æ–≤** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê |
| **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê | ‚≠ê‚≠ê‚≠ê |

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (1-3 –ø—Ä–æ–µ–∫—Ç–∞)
üëâ **–ò—Å–ø–æ–ª—å–∑—É–π –í–∞—Ä–∏–∞–Ω—Ç –ê (–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)**
- –ü—Ä–æ—Å—Ç–æ –∏ –±—ã—Å—Ç—Ä–æ
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –î–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (5+ –ø—Ä–æ–µ–∫—Ç–æ–≤)
üëâ **–ò—Å–ø–æ–ª—å–∑—É–π –í–∞—Ä–∏–∞–Ω—Ç –ë (NPM –ø–∞–∫–µ—Ç)**
- –õ–µ–≥–∫–æ –æ–±–Ω–æ–≤–ª—è—Ç—å
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

### –î–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ (2-5 –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ –æ–¥–Ω–æ–π –º–∞—à–∏–Ω–µ)
üëâ **–ò—Å–ø–æ–ª—å–∑—É–π –í–∞—Ä–∏–∞–Ω—Ç –í (Symlink)**
- –û–±–Ω–æ–≤–ª—è–µ—à—å –æ–¥–∏–Ω —Ä–∞–∑
- –ë—ã—Å—Ç—Ä–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è

### –î–ª—è –∫–æ–º–∞–Ω–¥—ã (–º–Ω–æ–≥–æ –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤)
üëâ **–ò—Å–ø–æ–ª—å–∑—É–π –í–∞—Ä–∏–∞–Ω—Ç –ì (Template)**
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- Best practices –∏–∑ –∫–æ—Ä–æ–±–∫–∏

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **–û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [MCP_CODE_EXECUTION.md](./MCP_CODE_EXECUTION.md)
- **README:** [../mcp-server/README.md](../../mcp-server/README.md)
- **–ü—Ä–∏–º–µ—Ä—ã:** [../mcp-server/examples/](../../mcp-server/examples/)
- **–¢–µ—Å—Ç—ã:** [../mcp-server/tests/](../../mcp-server/tests/)

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å [Troubleshooting](#troubleshooting)
2. –ó–∞–ø—É—Å—Ç–∏ —Ç–µ—Å—Ç—ã: `npm test`
3. –ü—Ä–æ–≤–µ—Ä—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π Node.js
4. –û—Ç–∫—Ä–æ–π issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**–í–µ—Ä—Å–∏—è:** 1.0.0
**–î–∞—Ç–∞:** 2025-11-06
**–ê–≤—Ç–æ—Ä:** Claude Code
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Ready for Use
